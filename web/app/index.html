<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>FormulaOneBot Mini App</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Telegram WebApp JS -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            margin: 0;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background-color: #0a0a19;
            color: #f5f5ff;
        }
        .root {
            padding: 16px;
        }
        .card {
            background: rgba(20, 24, 50, 0.9);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 12px;
        }
        .btn {
            display: inline-block;
            padding: 10px 16px;
            border-radius: 999px;
            background: #fe2c55;
            color: #fff;
            font-weight: 600;
            text-align: center;
            cursor: pointer;
            border: none;
        }
    </style>
</head>
<body>
<div class="root">
    <div class="card">
        <h2 id="title">FormulaOneBot MiniApp</h2>
        <p id="user-info"></p>
        <p>–ó–¥–µ—Å—å –º–æ–∂–Ω–æ –±—É–¥–µ—Ç —Å–º–æ—Ç—Ä–µ—Ç—å –±–ª–∏–∂–∞–π—à—É—é –≥–æ–Ω–∫—É, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –ª–∏—á–Ω—ã–π –∑–∞—á—ë—Ç –∏ –ª—é–±–∏–º—á–∏–∫–æ–≤ –≤ –±–æ–ª–µ–µ —É–¥–æ–±–Ω–æ–º –≤–∏–¥–µ üëÄ</p>
    </div>

    <div class="card">
        <p>–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –±–æ—Ç—É —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ.</p>
        <button class="btn" id="send-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –±–æ—Ç—É</button>
    </div>
</div>

<script>
    const tg = window.Telegram.WebApp;

    // –†–∞—Å–∫—Ä—ã–≤–∞–µ–º –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –≤—Å—é –≤—ã—Å–æ—Ç—É
    tg.expand();

    // –ü–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ–º—Å—è –ø–æ–¥ —Ç–µ–º—É –¢–µ–ª–µ–≥–∏
    document.body.style.backgroundColor = tg.themeParams.bg_color || "#0a0a19";

    const userInfoEl = document.getElementById('user-info');
    if (tg.initDataUnsafe && tg.initDataUnsafe.user) {
        const u = tg.initDataUnsafe.user;
        userInfoEl.textContent = `–ü—Ä–∏–≤–µ—Ç, ${u.first_name} üëã`;
    } else {
        userInfoEl.textContent = "–ü—Ä–∏–≤–µ—Ç! üëã";
    }

    document.getElementById('send-btn').addEventListener('click', () => {
        const payload = {
            type: "miniapp_test",
            ts: Date.now()
        };
        tg.sendData(JSON.stringify(payload));
        tg.close(); // –ó–∞–∫—Ä—ã–≤–∞–µ–º MiniApp
    });
</script>
</body>
</html>